<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Tchat avec Socket.IO</title>
    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <style type="text/css">
    body {
        background-color : rgb(50,50,80);
        color : white;
        text-align : center;
    }
    #tchat {
        background-color : white;
        opacity : 0.8;
        width : 500px;
        height : 300px;
        margin : auto;
        border : 3px rgb(40,40,40) solid;
        overflow : auto;
    }
    .line {
        border-bottom : 1px rgb(80,80,80) solid;
        padding : 4px;
        text-align:left;
        color : rgb(40,40,40);
    }
    </style>
</head>
<body>
  <h1>Test Socket.IO</h1>
  <div id="count"></div>
  <script type="text/javascript">
  // On se connecte au serveur
  var socket = io.connect();
  // On creer l'evenement recupererMessages pour recuperer direcement les messages sur serveur
  socket.on('getValue', function (value) {
  // messages est le tableau contenant tous les messages qui ont ete ecris sur le serveur
  var html = '';
    html += '<br/>'+value;
  document.getElementById('count').innerHTML = html;
  });
  // Si quelqu'un a poste un message, le serveur nous envoie son message avec l'evenement recupererNouveauMessage
  socket.on('updateValue', function (newValue) {
    document.getElementById('count').innerHTML += newValue;
  });
  </script>
</body>
</html>